{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import{deleteComment}from'../../../redux/actions/commentAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CommentMenu=function CommentMenu(_ref){var post=_ref.post,comment=_ref.comment,setOnEdit=_ref.setOnEdit;var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,socket=_useSelector.socket;var dispatch=useDispatch();var handleRemove=function handleRemove(){if(post.user._id===auth.user._id||comment.user._id===auth.user._id){dispatch(deleteComment({post:post,auth:auth,comment:comment,socket:socket}));}};var MenuItem=function MenuItem(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:function onClick(){return setOnEdit(true);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons text-primary\",children:\"create\"}),\" Edit\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:handleRemove,children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons text-red\",children:\"delete_outline\"}),\" Delete\"]})]});};return/*#__PURE__*/_jsx(\"div\",{className:\"menu\",children:(post.user._id===auth.user._id||comment.user._id===auth.user._id)&&/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons\",id:\"moreLink\",\"data-bs-toggle\":\"dropdown\",children:\"more_vert\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"moreLink\",children:post.user._id===auth.user._id?comment.user._id===auth.user._id?MenuItem():/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:handleRemove,children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons\",children:\"delete_outline\"}),\" Delete\"]}):comment.user._id===auth.user._id&&MenuItem()})]})});};export default CommentMenu;","map":{"version":3,"sources":["C:/Users/ayush/Desktop/myProjects/mern-social-media-master/client/src/components/home/comments/CommentMenu.js"],"names":["React","useDispatch","useSelector","deleteComment","CommentMenu","post","comment","setOnEdit","state","auth","socket","dispatch","handleRemove","user","_id","MenuItem"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,aAAT,KAA8B,sCAA9B,C,6IAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAkC,IAA/BC,CAAAA,IAA+B,MAA/BA,IAA+B,CAAzBC,OAAyB,MAAzBA,OAAyB,CAAhBC,SAAgB,MAAhBA,SAAgB,kBAC3BL,WAAW,CAAC,SAAAM,KAAK,QAAIA,CAAAA,KAAJ,EAAN,CADgB,CAC5CC,IAD4C,cAC5CA,IAD4C,CACtCC,MADsC,cACtCA,MADsC,CAEpD,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAEA,GAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAGP,IAAI,CAACQ,IAAL,CAAUC,GAAV,GAAkBL,IAAI,CAACI,IAAL,CAAUC,GAA5B,EAAmCR,OAAO,CAACO,IAAR,CAAaC,GAAb,GAAqBL,IAAI,CAACI,IAAL,CAAUC,GAArE,CAAyE,CACvEH,QAAQ,CAACR,aAAa,CAAC,CAAEE,IAAI,CAAJA,IAAF,CAAQI,IAAI,CAAJA,IAAR,CAAcH,OAAO,CAAPA,OAAd,CAAuBI,MAAM,CAANA,MAAvB,CAAD,CAAd,CAAR,CACD,CACF,CAJD,CAMA,GAAMK,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,mBACE,wCACE,aAAK,SAAS,CAAC,eAAf,CAA+B,OAAO,CAAE,yBAAMR,CAAAA,SAAS,CAAC,IAAD,CAAf,EAAxC,wBACE,aAAM,SAAS,CAAC,6BAAhB,oBADF,WADF,cAIE,aAAK,SAAS,CAAC,eAAf,CAA+B,OAAO,CAAEK,YAAxC,wBACE,aAAM,SAAS,CAAC,yBAAhB,4BADF,aAJF,GADF,CAUD,CAXD,CAYA,mBACE,YAAK,SAAS,CAAC,MAAf,UACG,CAACP,IAAI,CAACQ,IAAL,CAAUC,GAAV,GAAkBL,IAAI,CAACI,IAAL,CAAUC,GAA5B,EACAR,OAAO,CAACO,IAAR,CAAaC,GAAb,GAAqBL,IAAI,CAACI,IAAL,CAAUC,GADhC,gBAEC,aAAK,SAAS,CAAC,mBAAf,wBACE,aACE,SAAS,CAAC,gBADZ,CAEE,EAAE,CAAC,UAFL,CAGE,iBAAe,UAHjB,uBADF,cAQE,YAAK,SAAS,CAAC,eAAf,CAA+B,kBAAgB,UAA/C,UACGT,IAAI,CAACQ,IAAL,CAAUC,GAAV,GAAkBL,IAAI,CAACI,IAAL,CAAUC,GAA5B,CACCR,OAAO,CAACO,IAAR,CAAaC,GAAb,GAAqBL,IAAI,CAACI,IAAL,CAAUC,GAA/B,CACEC,QAAQ,EADV,cAGE,aAAK,SAAS,CAAC,eAAf,CAA+B,OAAO,CAAEH,YAAxC,wBACE,aAAM,SAAS,CAAC,gBAAhB,4BADF,aAJH,CASCN,OAAO,CAACO,IAAR,CAAaC,GAAb,GAAqBL,IAAI,CAACI,IAAL,CAAUC,GAA/B,EAAsCC,QAAQ,EAVlD,EARF,GAHJ,EADF,CA6BD,CAnDD,CAqDA,cAAeX,CAAAA,WAAf","sourcesContent":["import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteComment } from '../../../redux/actions/commentAction';\n\nconst CommentMenu = ({ post, comment, setOnEdit }) => {\n  const { auth, socket } = useSelector(state => state);\n  const dispatch = useDispatch();\n\n  const handleRemove = () => {\n    if(post.user._id === auth.user._id || comment.user._id === auth.user._id){\n      dispatch(deleteComment({ post, auth, comment, socket }));\n    }\n  };\n\n  const MenuItem = () => {\n    return (\n      <>\n        <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\n          <span className=\"material-icons text-primary\">create</span> Edit\n        </div>\n        <div className=\"dropdown-item\" onClick={handleRemove}>\n          <span className=\"material-icons text-red\">delete_outline</span> Delete\n        </div>\n      </>\n    );\n  };\n  return (\n    <div className=\"menu\">\n      {(post.user._id === auth.user._id ||\n        comment.user._id === auth.user._id) && (\n        <div className=\"nav-item dropdown\">\n          <span\n            className=\"material-icons\"\n            id=\"moreLink\"\n            data-bs-toggle=\"dropdown\"\n          >\n            more_vert\n          </span>\n          <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\n            {post.user._id === auth.user._id ? (\n              comment.user._id === auth.user._id ? (\n                MenuItem()\n              ) : (\n                <div className=\"dropdown-item\" onClick={handleRemove}>\n                  <span className=\"material-icons\">delete_outline</span> Delete\n                </div>\n              )\n            ) : (\n              comment.user._id === auth.user._id && MenuItem()\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CommentMenu\n"]},"metadata":{},"sourceType":"module"}