{"ast":null,"code":"import _slicedToArray from\"C:/Users/ayush/Desktop/myProjects/mern-social-media-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Avatar from'../Avatar';import EditProfile from'./EditProfile';import FollowBtn from'../FollowBtn';import Following from'./Following';import Followers from'./Followers';import ChangePassword from'./ChangePassword';import{GLOBALTYPES}from'../../redux/actions/globalTypes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Info=function Info(_ref){var id=_ref.id,auth=_ref.auth,profile=_ref.profile,dispatch=_ref.dispatch;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),onEdit=_useState4[0],setOnEdit=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),changePassword=_useState6[0],setChangePassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showFollowers=_useState8[0],setShowFollowers=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showFollowing=_useState10[0],setShowFollowing=_useState10[1];useEffect(function(){if(id===auth.user._id){setUserData([auth.user]);}else{var newData=profile.users.filter(function(user){return user._id===id;});setUserData(newData);}},[id,auth,dispatch,profile.users]);useEffect(function(){if(showFollowers||showFollowing||onEdit){dispatch({type:GLOBALTYPES.MODAL,payload:true});}else{dispatch({type:GLOBALTYPES.MODAL,payload:false});}},[showFollowers,showFollowing,onEdit,dispatch]);return/*#__PURE__*/_jsx(\"div\",{className:\"info\",children:userData.map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"info_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"outer-shadow d-flex justify-content-center align-items-center\",style:{borderRadius:\"50%\",height:\"170px\",width:\"170px\"},children:/*#__PURE__*/_jsx(Avatar,{src:user.avatar,size:\"supper-avatar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info_content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info_content_title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:user.username}),user._id===auth.user._id?/*#__PURE__*/_jsx(\"button\",{className:\"btn-1 outer-shadow hover-in-shadow\",onClick:function onClick(){return setOnEdit(true);},children:\"Edit Profile\"}):/*#__PURE__*/_jsx(FollowBtn,{user:user}),user._id===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-1 outer-shadow hover-in-shadow\",onClick:function onClick(){return setChangePassword(true);},children:\"change password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"follow_btn\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"mr-4\",onClick:function onClick(){return setShowFollowers(true);},children:[user.followers.length,\" Followers\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-4\",onClick:function onClick(){return setShowFollowing(true);},children:[user.following.length,\" Following\"]})]}),/*#__PURE__*/_jsxs(\"h6\",{children:[user.fullname,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"color-violet\",children:user.mobile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:user.address}),/*#__PURE__*/_jsx(\"h6\",{children:user.email}),/*#__PURE__*/_jsx(\"a\",{style:{textDecoration:\"none\"},href:user.website,target:\"_blank\",rel:\"noreferrer\",children:user.website}),/*#__PURE__*/_jsx(\"p\",{children:user.story})]}),onEdit&&/*#__PURE__*/_jsx(EditProfile,{setOnEdit:setOnEdit}),changePassword&&/*#__PURE__*/_jsx(ChangePassword,{setChangePassword:setChangePassword}),showFollowers&&/*#__PURE__*/_jsx(Followers,{users:user.followers,setShowFollowers:setShowFollowers}),showFollowing&&/*#__PURE__*/_jsx(Following,{users:user.following,setShowFollowing:setShowFollowing})]},user._id);})});};export default Info;","map":{"version":3,"sources":["C:/Users/ayush/Desktop/myProjects/mern-social-media-master/client/src/components/profile/Info.js"],"names":["React","useState","useEffect","Avatar","EditProfile","FollowBtn","Following","Followers","ChangePassword","GLOBALTYPES","Info","id","auth","profile","dispatch","userData","setUserData","onEdit","setOnEdit","changePassword","setChangePassword","showFollowers","setShowFollowers","showFollowing","setShowFollowing","user","_id","newData","users","filter","type","MODAL","payload","map","borderRadius","height","width","avatar","username","followers","length","following","fullname","mobile","address","email","textDecoration","website","story"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport Avatar from '../Avatar';\nimport EditProfile from './EditProfile';\nimport FollowBtn from '../FollowBtn';\nimport Following from './Following';\nimport Followers from './Followers';\nimport ChangePassword from './ChangePassword';\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\n\nconst Info = ({id, auth, profile, dispatch}) => {\n    const [userData, setUserData] = useState([]);\n    const [onEdit, setOnEdit] = useState(false);\n    const [changePassword, setChangePassword] = useState(false);\n\n    const [showFollowers, setShowFollowers] = useState(false);\n    const [showFollowing, setShowFollowing] = useState(false);\n\n    useEffect(() => {\n      if (id === auth.user._id) {\n          setUserData([auth.user]);\n      }else{\n        const newData = profile.users.filter(user => user._id === id);\n        setUserData(newData);\n      }\n    }, [id, auth, dispatch, profile.users]);\n\n    useEffect(() => {\n      if (showFollowers || showFollowing || onEdit) {\n        dispatch({ type: GLOBALTYPES.MODAL, payload: true });\n      } else {\n        dispatch({ type: GLOBALTYPES.MODAL, payload: false });\n      }\n    }, [showFollowers, showFollowing, onEdit, dispatch]);\n\n    return (\n      <div className=\"info\">\n        {userData.map((user) => (\n          <div key={user._id} className=\"info_container\">\n            <div\n              className=\"outer-shadow d-flex justify-content-center align-items-center\"\n              style={{ borderRadius: \"50%\", height: \"170px\", width: \"170px\" }}\n            >\n              <Avatar src={user.avatar} size=\"supper-avatar\" />\n            </div>\n\n            <div className=\"info_content\">\n              <div className=\"info_content_title\">\n                <h2>{user.username}</h2>\n                {user._id === auth.user._id ? (\n                  <button\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\n                    onClick={() => setOnEdit(true)}\n                  >\n                    Edit Profile\n                  </button>\n                ) : (\n                  <FollowBtn user={user} />\n                )}\n                {user._id === auth.user._id && (\n                  <button\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\n                    onClick={() => setChangePassword(true)}\n                  >\n                    change password\n                  </button>\n                )}\n              </div>\n\n              <div className=\"follow_btn\">\n                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\n                  {user.followers.length} Followers\n                </span>\n                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\n                  {user.following.length} Following\n                </span>\n              </div>\n\n              <h6>\n                {user.fullname}{\" \"}\n                <span className=\"color-violet\">{user.mobile}</span>\n              </h6>\n              <p className=\"m-0\">{user.address}</p>\n              <h6>{user.email}</h6>\n              <a\n                style={{ textDecoration: \"none\" }}\n                href={user.website}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                {user.website}\n              </a>\n              <p>{user.story}</p>\n            </div>\n\n            {onEdit && <EditProfile setOnEdit={setOnEdit} />}\n            {changePassword && <ChangePassword setChangePassword={setChangePassword} />}\n\n            {showFollowers && (\n              <Followers\n                users={user.followers}\n                setShowFollowers={setShowFollowers}\n              />\n            )}\n            {showFollowing && (\n              <Following\n                users={user.following}\n                setShowFollowing={setShowFollowing}\n              />\n            )}\n          </div>\n        ))}\n      </div>\n    );\n}\n\nexport default Info\n"]},"metadata":{},"sourceType":"module"}