{"ast":null,"code":"import _slicedToArray from\"C:/Users/ayush/Desktop/myProjects/mern-social-media-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Link,useLocation}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{logout}from\"../../redux/actions/authAction\";import{GLOBALTYPES}from\"../../redux/actions/globalTypes\";// import {ChatIcon} from \"@material-ui/icons\";\nimport Avatar from\"../Avatar\";import NotifyModal from\"../NotifyModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Menu=function Menu(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),unreadNotifications=_useState2[0],setUnreadNotifications=_useState2[1];var navLinks=[{label:\"Home\",icon:\"home\",path:\"/\"},{label:\"AnanomMessage\",icon:\"chat\",path:\"/ananommessage\"},{label:\"Discover\",icon:\"explore\",path:\"/discover\"}];var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,theme=_useSelector.theme,notify=_useSelector.notify;var dispatch=useDispatch();var _useLocation=useLocation(),pathname=_useLocation.pathname;var isActive=function isActive(pn){if(pn===pathname)return\"active\";};useEffect(function(){var newArr=notify.data.filter(function(item){return item.isRead===false;});setUnreadNotifications(newArr);},[notify]);return/*#__PURE__*/_jsx(\"div\",{className:\"menu\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav flex-row mb-2 mb-lg-0\",children:[navLinks.map(function(link,index){return/*#__PURE__*/_jsx(\"li\",{className:\"nav-item px-2 \".concat(isActive(link.path)),children:/*#__PURE__*/_jsx(Link,{className:\"nav-link \",to:link.path,children:/*#__PURE__*/_jsx(\"span\",{className:\"material-icons \",children:link.icon})})},index);}),/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",style:{opacity:\"1\"},children:[/*#__PURE__*/_jsxs(\"span\",{className:\"nav-link position-relative\",id:\"navbarDropdown\",role:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"span\",{style:{color:notify.data.length>0?\"var(--c1)\":\"\"},className:\"material-icons \",children:\"notifications\"}),/*#__PURE__*/_jsx(\"span\",{className:\"notify_length\",children:unreadNotifications.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"navbarDropdown\",children:/*#__PURE__*/_jsx(NotifyModal,{})})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",style:{opacity:\"1\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"nav-link dropdown-toggle\",id:\"navbarDropdown\",role:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:/*#__PURE__*/_jsx(Avatar,{src:auth.user.avatar,size:\"medium-avatar\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"navbarDropdown\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{style:{color:\"white\"},className:\"dropdown-item\",to:\"/profile/\".concat(auth.user._id),children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{style:{color:\"white\"},className:\"dropdown-item\",to:\"/message\",children:\"Chat\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{style:{color:\"white\"},className:\"dropdown-item\",to:\"/savemessage\",children:\"Saved Conversations\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"label\",{style:{color:\"white\"},htmlFor:\"theme\",className:\"dropdown-item\",onClick:function onClick(){return dispatch({type:GLOBALTYPES.THEME,payload:!theme});},children:theme?\"Light mode\":\"Dark mode\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{style:{color:\"white\"},className:\"dropdown-item\",to:\"/\",onClick:function onClick(){return dispatch(logout());},children:\"Logout\"})})]})]})]})});};export default Menu;","map":{"version":3,"sources":["C:/Users/ayush/Desktop/myProjects/mern-social-media-master/client/src/components/header/Menu.js"],"names":["React","useEffect","useState","Link","useLocation","useDispatch","useSelector","logout","GLOBALTYPES","Avatar","NotifyModal","Menu","unreadNotifications","setUnreadNotifications","navLinks","label","icon","path","state","auth","theme","notify","dispatch","pathname","isActive","pn","newArr","data","filter","item","isRead","map","link","index","opacity","color","length","user","avatar","_id","type","THEME","payload"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout } from \"../../redux/actions/authAction\";\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\n// import {ChatIcon} from \"@material-ui/icons\";\nimport Avatar from \"../Avatar\";\nimport NotifyModal from \"../NotifyModal\";\n\nconst Menu = () => {\n  const [unreadNotifications, setUnreadNotifications] = useState([]);\n  const navLinks = [\n    { label: \"Home\", icon: \"home\", path: \"/\" },\n    { label: \"AnanomMessage\", icon: \"chat\", path: \"/ananommessage\" },\n    { label: \"Discover\", icon: \"explore\", path: \"/discover\" },\n  ];\n\n  const { auth, theme, notify } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const { pathname } = useLocation();\n\n  const isActive = (pn) => {\n    if (pn === pathname) return \"active\";\n  };\n\n  useEffect(() => {\n    const newArr = notify.data.filter((item) => item.isRead === false);\n    setUnreadNotifications(newArr)\n  }, [notify])\n\n  return (\n    <div className=\"menu\">\n      <ul className=\"navbar-nav flex-row mb-2 mb-lg-0\">\n        {navLinks.map((link, index) => (\n          <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\n            <Link className={`nav-link `} to={link.path}>\n              <span className={`material-icons `}>{link.icon}</span>\n            </Link>\n          </li>\n        ))}\n\n        <li className=\"nav-item dropdown\" style={{ opacity: \"1\" }}>\n          <span\n            className=\"nav-link position-relative\"\n            id=\"navbarDropdown\"\n            role=\"button\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            <span\n              style={{ color: notify.data.length > 0 ? \"var(--c1)\" : \"\" }}\n              className={`material-icons `}\n            >\n              notifications\n            </span>\n            <span className=\"notify_length\">{unreadNotifications.length}</span>\n          </span>\n\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <NotifyModal />\n          </div>\n        </li>\n\n        <li className=\"nav-item dropdown\" style={{ opacity: \"1\" }}>\n          <span\n            className=\"nav-link dropdown-toggle\"\n            id=\"navbarDropdown\"\n            role=\"button\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\n          </span>\n          <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <li>\n              <Link\n                style={{ color: \"white\" }}\n                className=\"dropdown-item\"\n                to={`/profile/${auth.user._id}`}\n              >\n                Profile\n              </Link>\n            </li>\n            <li>\n              <Link\n                style={{ color: \"white\" }}\n                className=\"dropdown-item\"\n                to={`/message`}\n              >\n                Chat\n              </Link>\n            </li>\n            <li>\n              <Link\n                style={{ color: \"white\" }}\n                className=\"dropdown-item\"\n                to={`/savemessage`}\n              >\n                Saved Conversations\n              </Link>\n            </li>\n            <li>\n              <label\n                style={{ color: \"white\" }}\n                htmlFor=\"theme\"\n                className=\"dropdown-item\"\n                onClick={() =>\n                  dispatch({ type: GLOBALTYPES.THEME, payload: !theme })\n                }\n              >\n                {theme ? \"Light mode\" : \"Dark mode\"}\n              </label>\n            </li>\n            <li>\n              <hr className=\"dropdown-divider\" />\n            </li>\n\n            <li>\n              <Link\n                style={{ color: \"white\" }}\n                className=\"dropdown-item\"\n                to=\"/\"\n                onClick={() => dispatch(logout())}\n              >\n                Logout\n              </Link>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}