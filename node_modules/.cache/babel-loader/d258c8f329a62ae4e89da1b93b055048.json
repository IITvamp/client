{"ast":null,"code":"import _defineProperty from\"C:/Users/ayush/Desktop/myProjects/mern-social-media-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/ayush/Desktop/myProjects/mern-social-media-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/ayush/Desktop/myProjects/mern-social-media-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{GLOBALTYPES}from\"../../redux/actions/globalTypes\";import{updateProfileUser}from\"../../redux/actions/profileAction\";import{checkImage}from\"../../utils/imageUpload\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfile=function EditProfile(_ref){var setOnEdit=_ref.setOnEdit;var initialState={fullname:\"\",mobile:\"\",address:\"\",website:\"\",story:\"\",gender:\"\"};var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var fullname=userData.fullname,mobile=userData.mobile,address=userData.address,website=userData.website,story=userData.story,gender=userData.gender;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),avatar=_useState4[0],SetAvatar=_useState4[1];var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,theme=_useSelector.theme;var dispatch=useDispatch();useEffect(function(){setUserData(auth.user);},[auth.user]);var changeAvatar=function changeAvatar(e){var file=e.target.files[0];var err=checkImage(file);if(err){return dispatch({type:GLOBALTYPES.ALERT,payload:{error:err}});}SetAvatar(file);};var handleInput=function handleInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();dispatch(updateProfileUser({userData:userData,avatar:avatar,auth:auth}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"edit_profile\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn_close\",onClick:function onClick(){return setOnEdit(false);},children:\"Close\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info_avatar\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"profile\",src:avatar?URL.createObjectURL(avatar):auth.user.avatar,style:{filter:theme?\"invert(1)\":\"invert(0)\"}}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-camera\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Change\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",id:\"file_up\",accept:\"image/*\",onChange:changeAvatar})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fullname\",children:\"Full Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"fullname\",name:\"fullname\",value:fullname,onChange:handleInput}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-danger position-absolute\",style:{top:\"50%\",right:\"5px\",transform:\"translateY(-50%)\"},children:[fullname.length,\"/25\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mobile\",children:\"Mobile\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"mobile\",name:\"mobile\",value:mobile,onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"address\",name:\"address\",value:address,onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"website\",children:\"Website\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"website\",name:\"website\",value:website,onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"story\",children:\"Story\"}),/*#__PURE__*/_jsx(\"textarea\",{cols:\"30\",rows:\"4\",type:\"text\",className:\"form-control\",id:\"story\",name:\"story\",value:story,onChange:handleInput}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-danger d-block text-right\",children:[story.length,\"/200\"]})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"gender\",children:\"Gender\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend px-0 mb-4\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"custom-select text-capitalize\",name:\"gender\",id:\"gender\",onChange:handleInput,value:gender,children:[/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info w-100\",type:\"submit\",children:\"Save\"})]})]});};export default EditProfile;","map":{"version":3,"sources":["C:/Users/ayush/Desktop/myProjects/mern-social-media-master/client/src/components/profile/EditProfile.js"],"names":["React","useState","useEffect","useSelector","useDispatch","GLOBALTYPES","updateProfileUser","checkImage","EditProfile","setOnEdit","initialState","fullname","mobile","address","website","story","gender","userData","setUserData","avatar","SetAvatar","state","auth","theme","dispatch","user","changeAvatar","e","file","target","files","err","type","ALERT","payload","error","handleInput","name","value","handleSubmit","preventDefault","URL","createObjectURL","filter","top","right","transform","length"],"mappings":"yiBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,WAAT,KAA4B,iCAA5B,CACA,OAASC,iBAAT,KAAkC,mCAAlC,CAEA,OAASC,UAAT,KAA2B,yBAA3B,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAmB,IAAhBC,CAAAA,SAAgB,MAAhBA,SAAgB,CACrC,GAAMC,CAAAA,YAAY,CAAG,CACnBC,QAAQ,CAAE,EADS,CAEnBC,MAAM,CAAE,EAFW,CAGnBC,OAAO,CAAE,EAHU,CAInBC,OAAO,CAAE,EAJU,CAKnBC,KAAK,CAAE,EALY,CAMnBC,MAAM,CAAE,EANW,CAArB,CADqC,cASLf,QAAQ,CAACS,YAAD,CATH,wCAS9BO,QAT8B,eASpBC,WAToB,kBAU7BP,CAAAA,QAV6B,CAUyBM,QAVzB,CAU7BN,QAV6B,CAUnBC,MAVmB,CAUyBK,QAVzB,CAUnBL,MAVmB,CAUXC,OAVW,CAUyBI,QAVzB,CAUXJ,OAVW,CAUFC,OAVE,CAUyBG,QAVzB,CAUFH,OAVE,CAUOC,KAVP,CAUyBE,QAVzB,CAUOF,KAVP,CAUcC,MAVd,CAUyBC,QAVzB,CAUcD,MAVd,gBAWTf,QAAQ,CAAC,EAAD,CAXC,yCAW9BkB,MAX8B,eAWtBC,SAXsB,gCAYbjB,WAAW,CAAC,SAACkB,KAAD,QAAWA,CAAAA,KAAX,EAAD,CAZE,CAY7BC,IAZ6B,cAY7BA,IAZ6B,CAYvBC,KAZuB,cAYvBA,KAZuB,CAarC,GAAMC,CAAAA,QAAQ,CAAGpB,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,CACdgB,WAAW,CAACI,IAAI,CAACG,IAAN,CAAX,CACD,CAFQ,CAEN,CAACH,IAAI,CAACG,IAAN,CAFM,CAAT,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1B,GAAMC,CAAAA,IAAI,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb,CACA,GAAMC,CAAAA,GAAG,CAAGxB,UAAU,CAACqB,IAAD,CAAtB,CACA,GAAIG,GAAJ,CAAS,CACP,MAAOP,CAAAA,QAAQ,CAAC,CAAEQ,IAAI,CAAE3B,WAAW,CAAC4B,KAApB,CAA2BC,OAAO,CAAE,CAAEC,KAAK,CAAEJ,GAAT,CAApC,CAAD,CAAf,CACD,CACDX,SAAS,CAACQ,IAAD,CAAT,CACD,CAPD,CASA,GAAMQ,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACT,CAAD,CAAO,eACDA,CAAC,CAACE,MADD,CACjBQ,IADiB,WACjBA,IADiB,CACXC,KADW,WACXA,KADW,CAEzBpB,WAAW,gCAAMD,QAAN,wBAAiBoB,IAAjB,CAAwBC,KAAxB,GAAX,CACD,CAHD,CAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAZ,CAAC,CAAI,CACtBA,CAAC,CAACa,cAAF,GACAhB,QAAQ,CAAClB,iBAAiB,CAAE,CAACW,QAAQ,CAARA,QAAD,CAAWE,MAAM,CAANA,MAAX,CAAmBG,IAAI,CAAJA,IAAnB,CAAF,CAAlB,CAAR,CACH,CAHD,CAKA,mBACE,aAAK,SAAS,CAAC,cAAf,wBACE,eACE,SAAS,CAAC,0BADZ,CAEE,OAAO,CAAE,yBAAMb,CAAAA,SAAS,CAAC,KAAD,CAAf,EAFX,mBADF,cAQE,cAAM,QAAQ,CAAE8B,YAAhB,wBACE,aAAK,SAAS,CAAC,aAAf,wBACE,YACE,GAAG,CAAC,SADN,CAEE,GAAG,CAAEpB,MAAM,CAAGsB,GAAG,CAACC,eAAJ,CAAoBvB,MAApB,CAAH,CAAiCG,IAAI,CAACG,IAAL,CAAUN,MAFxD,CAGE,KAAK,CAAE,CAAEwB,MAAM,CAAEpB,KAAK,CAAG,WAAH,CAAiB,WAAhC,CAHT,EADF,cAME,qCACE,UAAG,SAAS,CAAC,eAAb,EADF,cAEE,6BAFF,cAGE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,EAAE,CAAC,SAHL,CAIE,MAAM,CAAC,SAJT,CAKE,QAAQ,CAAEG,YALZ,EAHF,GANF,GADF,cAoBE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,UAAf,uBADF,cAEE,aAAK,SAAS,CAAC,mBAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,UAHL,CAIE,IAAI,CAAC,UAJP,CAKE,KAAK,CAAEf,QALT,CAME,QAAQ,CAAEyB,WANZ,EADF,cASE,eACE,SAAS,CAAC,+BADZ,CAEE,KAAK,CAAE,CACLQ,GAAG,CAAE,KADA,CAELC,KAAK,CAAE,KAFF,CAGLC,SAAS,CAAE,kBAHN,CAFT,WAQGnC,QAAQ,CAACoC,MARZ,SATF,GAFF,GApBF,cA4CE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,QAAf,oBADF,cAGE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,QAHL,CAIE,IAAI,CAAC,QAJP,CAKE,KAAK,CAAEnC,MALT,CAME,QAAQ,CAAEwB,WANZ,EAHF,GA5CF,cAyDE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,SAAf,qBADF,cAGE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,SAHL,CAIE,IAAI,CAAC,SAJP,CAKE,KAAK,CAAEvB,OALT,CAME,QAAQ,CAAEuB,WANZ,EAHF,GAzDF,cAsEE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,SAAf,qBADF,cAGE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,SAHL,CAIE,IAAI,CAAC,SAJP,CAKE,KAAK,CAAEtB,OALT,CAME,QAAQ,CAAEsB,WANZ,EAHF,GAtEF,cAmFE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,OAAf,mBADF,cAGE,iBACE,IAAI,CAAC,IADP,CAEE,IAAI,CAAC,GAFP,CAGE,IAAI,CAAC,MAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,EAAE,CAAC,OALL,CAME,IAAI,CAAC,OANP,CAOE,KAAK,CAAErB,KAPT,CAQE,QAAQ,CAAEqB,WARZ,EAHF,cAcE,eAAO,SAAS,CAAC,gCAAjB,WACGrB,KAAK,CAACgC,MADT,UAdF,GAnFF,cAsGE,cAAO,OAAO,CAAC,QAAf,oBAtGF,cAuGE,YAAK,SAAS,CAAC,+BAAf,uBACE,gBACE,SAAS,CAAC,+BADZ,CAEE,IAAI,CAAC,QAFP,CAGE,EAAE,CAAC,QAHL,CAIE,QAAQ,CAAEX,WAJZ,CAKE,KAAK,CAAEpB,MALT,wBAOE,eAAQ,KAAK,CAAC,MAAd,kBAPF,cAQE,eAAQ,KAAK,CAAC,QAAd,oBARF,GADF,EAvGF,cAmHE,eAAQ,SAAS,CAAC,oBAAlB,CAAuC,IAAI,CAAC,QAA5C,kBAnHF,GARF,GADF,CAkID,CAxKD,CA0KA,cAAeR,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\nimport { updateProfileUser } from \"../../redux/actions/profileAction\";\n\nimport { checkImage } from \"../../utils/imageUpload\";\n\nconst EditProfile = ({ setOnEdit }) => {\n  const initialState = {\n    fullname: \"\",\n    mobile: \"\",\n    address: \"\",\n    website: \"\",\n    story: \"\",\n    gender: \"\",\n  };\n  const [userData, setUserData] = useState(initialState);\n  const { fullname, mobile, address, website, story, gender } = userData;\n  const [avatar, SetAvatar] = useState(\"\");\n  const { auth, theme } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setUserData(auth.user);\n  }, [auth.user]);\n\n  const changeAvatar = (e) => {\n    const file = e.target.files[0];\n    const err = checkImage(file);\n    if (err) {\n      return dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\n    }\n    SetAvatar(file);\n  };\n\n  const handleInput = (e) => {\n    const { name, value } = e.target;\n    setUserData({ ...userData, [name]: value });\n  };\n\n  const handleSubmit = e => {\n      e.preventDefault();\n      dispatch(updateProfileUser( {userData, avatar, auth} ) );\n  };\n\n  return (\n    <div className=\"edit_profile\">\n      <button\n        className=\"btn btn-danger btn_close\"\n        onClick={() => setOnEdit(false)}\n      >\n        Close\n      </button>\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"info_avatar\">\n          <img\n            alt=\"profile\"\n            src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar}\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\n          />\n          <span>\n            <i className=\"fas fa-camera\" />\n            <p>Change</p>\n            <input\n              type=\"file\"\n              name=\"file\"\n              id=\"file_up\"\n              accept=\"image/*\"\n              onChange={changeAvatar}\n            />\n          </span>\n        </div>\n\n        <div className=\"form_group\">\n          <label htmlFor=\"fullname\">Full Name</label>\n          <div className=\"position-relative\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"fullname\"\n              name=\"fullname\"\n              value={fullname}\n              onChange={handleInput}\n            />\n            <small\n              className=\"text-danger position-absolute\"\n              style={{\n                top: \"50%\",\n                right: \"5px\",\n                transform: \"translateY(-50%)\",\n              }}\n            >\n              {fullname.length}/25\n            </small>\n          </div>\n        </div>\n\n        <div className=\"form_group\">\n          <label htmlFor=\"mobile\">Mobile</label>\n\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"mobile\"\n            name=\"mobile\"\n            value={mobile}\n            onChange={handleInput}\n          />\n        </div>\n\n        <div className=\"form_group\">\n          <label htmlFor=\"address\">Address</label>\n\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"address\"\n            name=\"address\"\n            value={address}\n            onChange={handleInput}\n          />\n        </div>\n\n        <div className=\"form_group\">\n          <label htmlFor=\"website\">Website</label>\n\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"website\"\n            name=\"website\"\n            value={website}\n            onChange={handleInput}\n          />\n        </div>\n\n        <div className=\"form_group\">\n          <label htmlFor=\"story\">Story</label>\n\n          <textarea\n            cols=\"30\"\n            rows=\"4\"\n            type=\"text\"\n            className=\"form-control\"\n            id=\"story\"\n            name=\"story\"\n            value={story}\n            onChange={handleInput}\n          />\n\n          <small className=\"text-danger d-block text-right\">\n            {story.length}/200\n          </small>\n        </div>\n\n        <label htmlFor=\"gender\">Gender</label>\n        <div className=\"input-group-prepend px-0 mb-4\">\n          <select\n            className=\"custom-select text-capitalize\"\n            name=\"gender\"\n            id=\"gender\"\n            onChange={handleInput}\n            value={gender}\n          >\n            <option value=\"male\">Male</option>\n            <option value=\"female\">Female</option>\n          </select>\n        </div>\n        <button className=\"btn btn-info w-100\" type=\"submit\">\n          Save\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default EditProfile;\n"]},"metadata":{},"sourceType":"module"}